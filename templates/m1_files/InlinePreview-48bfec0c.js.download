import{r as d,j as p}from"./index-1fd99658.js";import{r as f,M as l,z as m}from"./_VitePage-a06d0596.js";import{p as w,u as g}from"./useInlinePreview-2ae3265c.js";import"./index-1d191e05.js";import"./index-c0e2fcd4.js";import"./pitcher-c72717de.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="3202fe86-3b22-4a6d-ab02-6fc8fe9670c7",t._sentryDebugIdIdentifier="sentry-dbid-3202fe86-3b22-4a6d-ab02-6fc8fe9670c7")}catch{}})();const y=()=>{const t=d.useRef(new Set),[s]=d.useState(()=>{let e;return{promise:new Promise(n=>{e=n}),resolve:e}}),o=async(e,r)=>{const n={code:`exports.activate = ${e.toString()}`,type:"INJECT_AND_INVOKE",uid:"TODO",scope:r};(await s.promise).postMessage(n)},a=e=>(t.current.add(e),()=>{t.current.delete(e)}),c=async e=>{(await s.promise).postMessage(e)};return d.useEffect(()=>{const e=r=>{if(r.data==="init"){const n=r.ports[0];n.onmessage=i=>{!i.data||typeof i.data.type!="string"||t.current.forEach(u=>{u(i.data)})},s.resolve(n)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),{injectAndInvoke:o,sendMessage:c,onMessage:a}};f(()=>{const t=l("inlinePreview"),[s]=m(),o=y(),[a,c]=w(window.location.pathname.split("/").pop());return t.active?(g(a,c,o),p.jsxs("h1",{children:[s.state," - Feature active"]})):p.jsxs("h1",{children:[s.state," - Feature not active"]})});
//# sourceMappingURL=InlinePreview-48bfec0c.js.map
